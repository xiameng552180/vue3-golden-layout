{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { ItemConfig } from '../config/config';\nimport { ResolvedGroundItemConfig, ResolvedHeaderedItemConfig, ResolvedItemConfig, ResolvedRootItemConfig, ResolvedStackItemConfig } from '../config/resolved-config';\nimport { AssertError, UnexpectedNullError } from '../errors/internal-error';\nimport { ItemType } from '../utils/types';\nimport { getElementWidthAndHeight, setElementHeight, setElementWidth } from '../utils/utils';\nimport { ComponentItem } from './component-item';\nimport { ComponentParentableItem } from './component-parentable-item';\nimport { ContentItem } from './content-item';\nimport { RowOrColumn } from './row-or-column';\n/**\n * GroundItem is the ContentItem whose one child is the root ContentItem (Root is planted in Ground).\n * (Previously it was called root however this was incorrect as its child is the root item)\n * There is only one instance of GroundItem and it is automatically created by the Layout Manager\n * @internal\n */\n\nexport class GroundItem extends ComponentParentableItem {\n  constructor(layoutManager, rootItemConfig, containerElement) {\n    super(layoutManager, ResolvedGroundItemConfig.create(rootItemConfig), null, GroundItem.createElement(document));\n    this.isGround = true;\n    this._childElementContainer = this.element;\n    this._containerElement = containerElement;\n\n    this._containerElement.appendChild(this.element);\n  }\n\n  init() {\n    if (this.isInitialised === true) return;\n    this.updateNodeSize();\n\n    for (let i = 0; i < this.contentItems.length; i++) {\n      this._childElementContainer.appendChild(this.contentItems[i].element);\n    }\n\n    super.init();\n    this.initContentItems();\n  }\n  /**\n   * Loads a new Layout\n   * Internal only.  To load a new layout with API, use {@link (LayoutManager:class).loadLayout}\n   */\n\n\n  loadRoot(rootItemConfig) {\n    // Remove existing root if it exists\n    this.clearRoot();\n\n    if (rootItemConfig !== undefined) {\n      const rootContentItem = this.layoutManager.createAndInitContentItem(rootItemConfig, this);\n      this.addChild(rootContentItem, 0);\n    }\n  }\n\n  clearRoot() {\n    // Remove existing root if it exists\n    const contentItems = this.contentItems;\n\n    switch (contentItems.length) {\n      case 0:\n        {\n          return;\n        }\n\n      case 1:\n        {\n          const existingRootContentItem = contentItems[0];\n          existingRootContentItem.remove();\n          return;\n        }\n\n      default:\n        {\n          throw new AssertError('GILR07721');\n        }\n    }\n  }\n  /**\n   * Adds a ContentItem child to root ContentItem.\n   * Internal only.  To load a add with API, use {@link (LayoutManager:class).addItem}\n   * @returns -1 if added as root otherwise index in root ContentItem's content\n   */\n\n\n  addItem(itemConfig, index) {\n    this.layoutManager.checkMinimiseMaximisedStack();\n    const resolvedItemConfig = ItemConfig.resolve(itemConfig);\n    let parent;\n\n    if (this.contentItems.length > 0) {\n      parent = this.contentItems[0];\n    } else {\n      parent = this;\n    }\n\n    if (parent.isComponent) {\n      throw new Error('Cannot add item as child to ComponentItem');\n    } else {\n      const contentItem = this.layoutManager.createAndInitContentItem(resolvedItemConfig, parent);\n      index = parent.addChild(contentItem, index);\n      return parent === this ? -1 : index;\n    }\n  }\n\n  loadComponentAsRoot(itemConfig) {\n    // Remove existing root if it exists\n    this.clearRoot();\n    const resolvedItemConfig = ItemConfig.resolve(itemConfig);\n\n    if (resolvedItemConfig.maximised) {\n      throw new Error('Root Component cannot be maximised');\n    } else {\n      const rootContentItem = new ComponentItem(this.layoutManager, resolvedItemConfig, this);\n      rootContentItem.init();\n      this.addChild(rootContentItem, 0);\n    }\n  }\n  /**\n   * Adds a Root ContentItem.\n   * Internal only.  To replace Root ContentItem with API, use {@link (LayoutManager:class).loadLayout}\n   */\n\n\n  addChild(contentItem, index) {\n    if (this.contentItems.length > 0) {\n      throw new Error('Ground node can only have a single child');\n    } else {\n      // contentItem = this.layoutManager._$normalizeContentItem(contentItem, this);\n      this._childElementContainer.appendChild(contentItem.element);\n\n      index = super.addChild(contentItem, index);\n      this.updateSize();\n      this.emitBaseBubblingEvent('stateChanged');\n      return index;\n    }\n  }\n  /** @internal */\n\n\n  calculateConfigContent() {\n    const contentItems = this.contentItems;\n    const count = contentItems.length;\n    const result = new Array(count);\n\n    for (let i = 0; i < count; i++) {\n      const item = contentItems[i];\n      const itemConfig = item.toConfig();\n\n      if (ResolvedRootItemConfig.isRootItemConfig(itemConfig)) {\n        result[i] = itemConfig;\n      } else {\n        throw new AssertError('RCCC66832');\n      }\n    }\n\n    return result;\n  }\n  /** @internal */\n\n\n  setSize(width, height) {\n    if (width === undefined || height === undefined) {\n      this.updateSize(); // For backwards compatibility with v1.x API\n    } else {\n      setElementWidth(this.element, width);\n      setElementHeight(this.element, height); // GroundItem can be empty\n\n      if (this.contentItems.length > 0) {\n        setElementWidth(this.contentItems[0].element, width);\n        setElementHeight(this.contentItems[0].element, height);\n      }\n\n      this.updateContentItemsSize();\n    }\n  }\n  /**\n   * Adds a Root ContentItem.\n   * Internal only.  To replace Root ContentItem with API, use {@link (LayoutManager:class).updateRootSize}\n   */\n\n\n  updateSize() {\n    this.layoutManager.beginVirtualSizedContainerAdding();\n\n    try {\n      this.updateNodeSize();\n      this.updateContentItemsSize();\n    } finally {\n      this.layoutManager.endVirtualSizedContainerAdding();\n    }\n  }\n\n  createSideAreas() {\n    const areaSize = 50;\n    const oppositeSides = GroundItem.Area.oppositeSides;\n    const result = new Array(Object.keys(oppositeSides).length);\n    let idx = 0;\n\n    for (const key in oppositeSides) {\n      const side = key;\n      const area = this.getElementArea();\n\n      if (area === null) {\n        throw new UnexpectedNullError('RCSA77553');\n      } else {\n        area.side = side;\n        if (oppositeSides[side][1] === '2') area[side] = area[oppositeSides[side]] - areaSize;else area[side] = area[oppositeSides[side]] + areaSize;\n        area.surface = (area.x2 - area.x1) * (area.y2 - area.y1);\n        result[idx++] = area;\n      }\n    }\n\n    return result;\n  }\n\n  highlightDropZone(x, y, area) {\n    this.layoutManager.tabDropPlaceholder.remove();\n    super.highlightDropZone(x, y, area);\n  }\n\n  onDrop(contentItem, area) {\n    if (contentItem.isComponent) {\n      const itemConfig = ResolvedStackItemConfig.createDefault(); // since ResolvedItemConfig.contentItems not set up, we need to add header from Component\n\n      const component = contentItem;\n      itemConfig.header = ResolvedHeaderedItemConfig.Header.createCopy(component.headerConfig);\n      const stack = this.layoutManager.createAndInitContentItem(itemConfig, this);\n      stack.addChild(contentItem);\n      contentItem = stack;\n    }\n\n    if (this.contentItems.length === 0) {\n      this.addChild(contentItem);\n    } else {\n      /*\n       * If the contentItem that's being dropped is not dropped on a Stack (cases which just passed above and\n       * which would wrap the contentItem in a Stack) we need to check whether contentItem is a RowOrColumn.\n       * If it is, we need to re-wrap it in a Stack like it was when it was dragged by its Tab (it was dragged!).\n       */\n      if (contentItem.type === ItemType.row || contentItem.type === ItemType.column) {\n        const itemConfig = ResolvedStackItemConfig.createDefault();\n        const stack = this.layoutManager.createContentItem(itemConfig, this);\n        stack.addChild(contentItem);\n        contentItem = stack;\n      }\n\n      const type = area.side[0] == 'x' ? ItemType.row : ItemType.column;\n      const dimension = area.side[0] == 'x' ? 'width' : 'height';\n      const insertBefore = area.side[1] == '2';\n      const column = this.contentItems[0];\n\n      if (!(column instanceof RowOrColumn) || column.type !== type) {\n        const itemConfig = ResolvedItemConfig.createDefault(type);\n        const rowOrColumn = this.layoutManager.createContentItem(itemConfig, this);\n        this.replaceChild(column, rowOrColumn);\n        rowOrColumn.addChild(contentItem, insertBefore ? 0 : undefined, true);\n        rowOrColumn.addChild(column, insertBefore ? undefined : 0, true);\n        column[dimension] = 50;\n        contentItem[dimension] = 50;\n        rowOrColumn.updateSize();\n      } else {\n        const sibling = column.contentItems[insertBefore ? 0 : column.contentItems.length - 1];\n        column.addChild(contentItem, insertBefore ? 0 : undefined, true);\n        sibling[dimension] *= 0.5;\n        contentItem[dimension] = sibling[dimension];\n        column.updateSize();\n      }\n    }\n  } // No ContentItem can dock with groundItem.  However Stack can have a GroundItem parent and Stack requires that\n  // its parent implement dock() function.  Accordingly this function is implemented but throws an exception as it should\n  // never be called\n\n\n  dock() {\n    throw new AssertError('GID87731');\n  } // No ContentItem can dock with groundItem.  However Stack can have a GroundItem parent and Stack requires that\n  // its parent implement validateDocking() function.  Accordingly this function is implemented but throws an exception as it should\n  // never be called\n\n\n  validateDocking() {\n    throw new AssertError('GIVD87732');\n  }\n\n  getAllContentItems() {\n    const result = [this];\n    this.deepGetAllContentItems(this.contentItems, result);\n    return result;\n  }\n\n  getConfigMaximisedItems() {\n    const result = [];\n    this.deepFilterContentItems(this.contentItems, result, item => {\n      if (ContentItem.isStack(item) && item.initialWantMaximise) {\n        return true;\n      } else {\n        if (ContentItem.isComponentItem(item) && item.initialWantMaximise) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    });\n    return result;\n  }\n\n  getItemsByPopInParentId(popInParentId) {\n    const result = [];\n    this.deepFilterContentItems(this.contentItems, result, item => item.popInParentIds.includes(popInParentId));\n    return result;\n  }\n\n  toConfig() {\n    throw new Error('Cannot generate GroundItem config');\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  setActiveComponentItem(item, focus, suppressFocusEvent) {// only applicable if ComponentItem is root and then it always has focus\n  }\n\n  updateNodeSize() {\n    const {\n      width,\n      height\n    } = getElementWidthAndHeight(this._containerElement);\n    setElementWidth(this.element, width);\n    setElementHeight(this.element, height);\n    /*\n     * GroundItem can be empty\n     */\n\n    if (this.contentItems.length > 0) {\n      setElementWidth(this.contentItems[0].element, width);\n      setElementHeight(this.contentItems[0].element, height);\n    }\n  }\n\n  deepGetAllContentItems(content, result) {\n    for (let i = 0; i < content.length; i++) {\n      const contentItem = content[i];\n      result.push(contentItem);\n      this.deepGetAllContentItems(contentItem.contentItems, result);\n    }\n  }\n\n  deepFilterContentItems(content, result, checkAcceptFtn) {\n    for (let i = 0; i < content.length; i++) {\n      const contentItem = content[i];\n\n      if (checkAcceptFtn(contentItem)) {\n        result.push(contentItem);\n      }\n\n      this.deepFilterContentItems(contentItem.contentItems, result, checkAcceptFtn);\n    }\n  }\n\n}\n/** @internal */\n\n(function (GroundItem) {\n  let Area;\n\n  (function (Area) {\n    Area.oppositeSides = {\n      y2: 'y1',\n      x2: 'x1',\n      y1: 'y2',\n      x1: 'x2'\n    };\n  })(Area = GroundItem.Area || (GroundItem.Area = {}));\n\n  function createElement(document) {\n    const element = document.createElement('div');\n    element.classList.add(\"lm_goldenlayout\"\n    /* GoldenLayout */\n    );\n    element.classList.add(\"lm_item\"\n    /* Item */\n    );\n    element.classList.add(\"lm_root\"\n    /* Root */\n    );\n    return element;\n  }\n\n  GroundItem.createElement = createElement;\n})(GroundItem || (GroundItem = {}));","map":{"version":3,"mappings":"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","names":["ItemConfig","ResolvedGroundItemConfig","ResolvedHeaderedItemConfig","ResolvedItemConfig","ResolvedRootItemConfig","ResolvedStackItemConfig","AssertError","UnexpectedNullError","ItemType","getElementWidthAndHeight","setElementHeight","setElementWidth","ComponentItem","ComponentParentableItem","ContentItem","RowOrColumn","GroundItem","constructor","layoutManager","rootItemConfig","containerElement","create","createElement","document","isGround","_childElementContainer","element","_containerElement","appendChild","init","isInitialised","updateNodeSize","i","contentItems","length","initContentItems","loadRoot","clearRoot","undefined","rootContentItem","createAndInitContentItem","addChild","existingRootContentItem","remove","addItem","itemConfig","index","checkMinimiseMaximisedStack","resolvedItemConfig","resolve","parent","isComponent","Error","contentItem","loadComponentAsRoot","maximised","updateSize","emitBaseBubblingEvent","calculateConfigContent","count","result","Array","item","toConfig","isRootItemConfig","setSize","width","height","updateContentItemsSize","beginVirtualSizedContainerAdding","endVirtualSizedContainerAdding","createSideAreas","areaSize","oppositeSides","Area","Object","keys","idx","key","side","area","getElementArea","surface","x2","x1","y2","y1","highlightDropZone","x","y","tabDropPlaceholder","onDrop","createDefault","component","header","Header","createCopy","headerConfig","stack","type","row","column","createContentItem","dimension","insertBefore","rowOrColumn","replaceChild","sibling","dock","validateDocking","getAllContentItems","deepGetAllContentItems","getConfigMaximisedItems","deepFilterContentItems","isStack","initialWantMaximise","isComponentItem","getItemsByPopInParentId","popInParentId","popInParentIds","includes","setActiveComponentItem","focus","suppressFocusEvent","content","push","checkAcceptFtn","classList","add"],"sourceRoot":"","sources":["../../../../src/ts/items/ground-item.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}