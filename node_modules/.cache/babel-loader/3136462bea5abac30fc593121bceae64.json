{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { AssertError, UnexpectedNullError } from '../errors/internal-error';\nimport { EventEmitter } from '../utils/event-emitter';\nimport { getJQueryOffset } from '../utils/jquery-legacy';\nimport { getUniqueId, setElementDisplayVisibility } from '../utils/utils';\n/**\n * This is the baseclass that all content items inherit from.\n * Most methods provide a subset of what the sub-classes do.\n *\n * It also provides a number of functions for tree traversal\n * @public\n */\n\nexport class ContentItem extends EventEmitter {\n  /** @internal */\n  constructor(layoutManager, config,\n  /** @internal */\n  _parent,\n  /** @internal */\n  _element) {\n    super();\n    this.layoutManager = layoutManager;\n    this._parent = _parent;\n    this._element = _element;\n    /** @internal */\n\n    this._popInParentIds = [];\n    this._type = config.type;\n    this._id = config.id;\n    this._isInitialised = false;\n    this.isGround = false;\n    this.isRow = false;\n    this.isColumn = false;\n    this.isStack = false;\n    this.isComponent = false;\n    this.width = config.width;\n    this.minWidth = config.minWidth;\n    this.height = config.height;\n    this.minHeight = config.minHeight;\n    this._isClosable = config.isClosable;\n    this._pendingEventPropagations = {};\n    this._throttledEvents = ['stateChanged'];\n    this._contentItems = this.createContentItems(config.content);\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get id() {\n    return this._id;\n  }\n\n  set id(value) {\n    this._id = value;\n  }\n  /** @internal */\n\n\n  get popInParentIds() {\n    return this._popInParentIds;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get contentItems() {\n    return this._contentItems;\n  }\n\n  get isClosable() {\n    return this._isClosable;\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  get isInitialised() {\n    return this._isInitialised;\n  }\n\n  static isStack(item) {\n    return item.isStack;\n  }\n\n  static isComponentItem(item) {\n    return item.isComponent;\n  }\n\n  static isComponentParentableItem(item) {\n    return item.isStack || item.isGround;\n  }\n  /**\n   * Removes a child node (and its children) from the tree\n   * @param contentItem - The child item to remove\n   * @param keepChild - Whether to destroy the removed item\n   */\n\n\n  removeChild(contentItem, keepChild = false) {\n    /*\n     * Get the position of the item that's to be removed within all content items this node contains\n     */\n    const index = this._contentItems.indexOf(contentItem);\n    /*\n     * Make sure the content item to be removed is actually a child of this item\n     */\n\n\n    if (index === -1) {\n      throw new Error('Can\\'t remove child item. Unknown content item');\n    }\n    /**\n     * Call destroy on the content item.\n     * All children are destroyed as well\n     */\n\n\n    if (!keepChild) {\n      this._contentItems[index].destroy();\n    }\n    /**\n     * Remove the content item from this nodes array of children\n     */\n\n\n    this._contentItems.splice(index, 1);\n    /**\n     * If this node still contains other content items, adjust their size\n     */\n\n\n    if (this._contentItems.length > 0) {\n      this.updateSize();\n    } else {\n      /**\n       * If this was the last content item, remove this node as well\n       */\n      if (!this.isGround && this._isClosable === true) {\n        if (this._parent === null) {\n          throw new UnexpectedNullError('CIUC00874');\n        } else {\n          this._parent.removeChild(this);\n        }\n      }\n    }\n  }\n  /**\n   * Sets up the tree structure for the newly added child\n   * The responsibility for the actual DOM manipulations lies\n   * with the concrete item\n   *\n   * @param contentItem -\n   * @param index - If omitted item will be appended\n   * @param suspendResize - Used by descendent implementations\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  addChild(contentItem, index, suspendResize) {\n    index !== null && index !== void 0 ? index : index = this._contentItems.length;\n\n    this._contentItems.splice(index, 0, contentItem);\n\n    contentItem.setParent(this);\n\n    if (this._isInitialised === true && contentItem._isInitialised === false) {\n      contentItem.init();\n    }\n\n    return index;\n  }\n  /**\n   * Replaces oldChild with newChild\n   * @param oldChild -\n   * @param newChild -\n   * @internal\n   */\n\n\n  replaceChild(oldChild, newChild, destroyOldChild = false) {\n    // Do not try to replace ComponentItem - will not work\n    const index = this._contentItems.indexOf(oldChild);\n\n    const parentNode = oldChild._element.parentNode;\n\n    if (index === -1) {\n      throw new AssertError('CIRCI23232', 'Can\\'t replace child. oldChild is not child of this');\n    }\n\n    if (parentNode === null) {\n      throw new UnexpectedNullError('CIRCP23232');\n    } else {\n      parentNode.replaceChild(newChild._element, oldChild._element);\n      /*\n      * Optionally destroy the old content item\n      */\n\n      if (destroyOldChild === true) {\n        oldChild._parent = null;\n        oldChild.destroy(); // will now also destroy all children of oldChild\n      }\n      /*\n      * Wire the new contentItem into the tree\n      */\n\n\n      this._contentItems[index] = newChild;\n      newChild.setParent(this); // newChild inherits the sizes from the old child:\n\n      newChild.height = oldChild.height;\n      newChild.width = oldChild.width; //TODO This doesn't update the config... refactor to leave item nodes untouched after creation\n\n      if (newChild._parent === null) {\n        throw new UnexpectedNullError('CIRCNC45699');\n      } else {\n        if (newChild._parent._isInitialised === true && newChild._isInitialised === false) {\n          newChild.init();\n        }\n\n        this.updateSize();\n      }\n    }\n  }\n  /**\n   * Convenience method.\n   * Shorthand for this.parent.removeChild( this )\n   */\n\n\n  remove() {\n    if (this._parent === null) {\n      throw new UnexpectedNullError('CIR11110');\n    } else {\n      this._parent.removeChild(this);\n    }\n  }\n  /**\n   * Removes the component from the layout and creates a new\n   * browser window with the component and its children inside\n   */\n\n\n  popout() {\n    const parentId = getUniqueId();\n    const browserPopout = this.layoutManager.createPopoutFromContentItem(this, undefined, parentId, undefined);\n    this.emitBaseBubblingEvent('stateChanged');\n    return browserPopout;\n  }\n  /** @internal */\n\n\n  calculateConfigContent() {\n    const contentItems = this._contentItems;\n    const count = contentItems.length;\n    const result = new Array(count);\n\n    for (let i = 0; i < count; i++) {\n      const item = contentItems[i];\n      result[i] = item.toConfig();\n    }\n\n    return result;\n  }\n  /** @internal */\n\n\n  highlightDropZone(x, y, area) {\n    const dropTargetIndicator = this.layoutManager.dropTargetIndicator;\n\n    if (dropTargetIndicator === null) {\n      throw new UnexpectedNullError('ACIHDZ5593');\n    } else {\n      dropTargetIndicator.highlightArea(area);\n    }\n  }\n  /** @internal */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  onDrop(contentItem, area) {\n    this.addChild(contentItem);\n  }\n  /** @internal */\n\n\n  show() {\n    // Not sure why showAllActiveContentItems() was called. GoldenLayout seems to work fine without it.  Left commented code\n    // in source in case a reason for it becomes apparent.\n    // this.layoutManager.showAllActiveContentItems();\n    setElementDisplayVisibility(this._element, true);\n    this.layoutManager.updateSizeFromContainer();\n\n    for (let i = 0; i < this._contentItems.length; i++) {\n      this._contentItems[i].show();\n    }\n  }\n  /**\n   * Destroys this item ands its children\n   * @internal\n   */\n\n\n  destroy() {\n    for (let i = 0; i < this._contentItems.length; i++) {\n      this._contentItems[i].destroy();\n    }\n\n    this._contentItems = [];\n    this.emitBaseBubblingEvent('beforeItemDestroyed');\n\n    this._element.remove();\n\n    this.emitBaseBubblingEvent('itemDestroyed');\n  }\n  /**\n   * Returns the area the component currently occupies\n   * @internal\n   */\n\n\n  getElementArea(element) {\n    element = element !== null && element !== void 0 ? element : this._element;\n    const offset = getJQueryOffset(element);\n    const width = element.offsetWidth;\n    const height = element.offsetHeight; // const widthAndHeight = getJQueryWidthAndHeight(element);\n\n    return {\n      x1: offset.left + 1,\n      y1: offset.top + 1,\n      x2: offset.left + width - 1,\n      y2: offset.top + height - 1,\n      surface: width * height,\n      contentItem: this\n    };\n  }\n  /**\n   * The tree of content items is created in two steps: First all content items are instantiated,\n   * then init is called recursively from top to bottem. This is the basic init function,\n   * it can be used, extended or overwritten by the content items\n   *\n   * Its behaviour depends on the content item\n   * @internal\n   */\n\n\n  init() {\n    this._isInitialised = true;\n    this.emitBaseBubblingEvent('itemCreated');\n    this.emitUnknownBubblingEvent(this.type + 'Created');\n  }\n  /** @internal */\n\n\n  setParent(parent) {\n    this._parent = parent;\n  }\n  /** @internal */\n\n\n  addPopInParentId(id) {\n    if (!this.popInParentIds.includes(id)) {\n      this.popInParentIds.push(id);\n    }\n  }\n  /** @internal */\n\n\n  initContentItems() {\n    for (let i = 0; i < this._contentItems.length; i++) {\n      this._contentItems[i].init();\n    }\n  }\n  /** @internal */\n\n\n  hide() {\n    setElementDisplayVisibility(this._element, false);\n    this.layoutManager.updateSizeFromContainer();\n  }\n  /** @internal */\n\n\n  updateContentItemsSize() {\n    for (let i = 0; i < this._contentItems.length; i++) {\n      this._contentItems[i].updateSize();\n    }\n  }\n  /**\n   * creates all content items for this node at initialisation time\n   * PLEASE NOTE, please see addChild for adding contentItems at runtime\n   * @internal\n   */\n\n\n  createContentItems(content) {\n    const count = content.length;\n    const result = new Array(count);\n\n    for (let i = 0; i < content.length; i++) {\n      result[i] = this.layoutManager.createContentItem(content[i], this);\n    }\n\n    return result;\n  }\n  /**\n   * Called for every event on the item tree. Decides whether the event is a bubbling\n   * event and propagates it to its parent\n   *\n   * @param name - The name of the event\n   * @param event -\n   * @internal\n   */\n\n\n  propagateEvent(name, args) {\n    if (args.length === 1) {\n      const event = args[0];\n\n      if (event instanceof EventEmitter.BubblingEvent && event.isPropagationStopped === false && this._isInitialised === true) {\n        /**\n         * In some cases (e.g. if an element is created from a DragSource) it\n         * doesn't have a parent and is not a child of GroundItem. If that's the case\n         * propagate the bubbling event from the top level of the substree directly\n         * to the layoutManager\n         */\n        if (this.isGround === false && this._parent) {\n          this._parent.emitUnknown(name, event);\n        } else {\n          this.scheduleEventPropagationToLayoutManager(name, event);\n        }\n      }\n    }\n  }\n\n  tryBubbleEvent(name, args) {\n    if (args.length === 1) {\n      const event = args[0];\n\n      if (event instanceof EventEmitter.BubblingEvent && event.isPropagationStopped === false && this._isInitialised === true) {\n        /**\n         * In some cases (e.g. if an element is created from a DragSource) it\n         * doesn't have a parent and is not a child of GroundItem. If that's the case\n         * propagate the bubbling event from the top level of the substree directly\n         * to the layoutManager\n         */\n        if (this.isGround === false && this._parent) {\n          this._parent.emitUnknown(name, event);\n        } else {\n          this.scheduleEventPropagationToLayoutManager(name, event);\n        }\n      }\n    }\n  }\n  /**\n   * All raw events bubble up to the Ground element. Some events that\n   * are propagated to - and emitted by - the layoutManager however are\n   * only string-based, batched and sanitized to make them more usable\n   *\n   * @param name - The name of the event\n   * @internal\n   */\n\n\n  scheduleEventPropagationToLayoutManager(name, event) {\n    if (this._throttledEvents.indexOf(name) === -1) {\n      this.layoutManager.emitUnknown(name, event);\n    } else {\n      if (this._pendingEventPropagations[name] !== true) {\n        this._pendingEventPropagations[name] = true;\n        globalThis.requestAnimationFrame(() => this.propagateEventToLayoutManager(name, event));\n      }\n    }\n  }\n  /**\n   * Callback for events scheduled by _scheduleEventPropagationToLayoutManager\n   *\n   * @param name - The name of the event\n   * @internal\n   */\n\n\n  propagateEventToLayoutManager(name, event) {\n    this._pendingEventPropagations[name] = false;\n    this.layoutManager.emitUnknown(name, event);\n  }\n\n}","map":{"version":3,"mappings":"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","names":["AssertError","UnexpectedNullError","EventEmitter","getJQueryOffset","getUniqueId","setElementDisplayVisibility","ContentItem","constructor","layoutManager","config","_parent","_element","_type","type","_id","id","_isInitialised","isGround","isRow","isColumn","isStack","isComponent","width","minWidth","height","minHeight","_isClosable","isClosable","_pendingEventPropagations","_throttledEvents","_contentItems","createContentItems","content","value","popInParentIds","_popInParentIds","parent","contentItems","element","isInitialised","item","isComponentItem","isComponentParentableItem","removeChild","contentItem","keepChild","index","indexOf","Error","destroy","splice","length","updateSize","addChild","suspendResize","setParent","init","replaceChild","oldChild","newChild","destroyOldChild","parentNode","remove","popout","parentId","browserPopout","createPopoutFromContentItem","undefined","emitBaseBubblingEvent","calculateConfigContent","count","result","Array","i","toConfig","highlightDropZone","x","y","area","dropTargetIndicator","highlightArea","onDrop","show","updateSizeFromContainer","getElementArea","offset","offsetWidth","offsetHeight","x1","left","y1","top","x2","y2","surface","emitUnknownBubblingEvent","addPopInParentId","includes","push","initContentItems","hide","updateContentItemsSize","createContentItem","propagateEvent","name","args","event","BubblingEvent","isPropagationStopped","emitUnknown","scheduleEventPropagationToLayoutManager","tryBubbleEvent","globalThis","requestAnimationFrame","propagateEventToLayoutManager"],"sourceRoot":"","sources":["../../../../src/ts/items/content-item.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}